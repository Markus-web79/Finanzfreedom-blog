import fs from "fs";
import path from "path";

const contentDir = "./content";

function checkArticles() {
  const files = fs.readdirSync(contentDir).filter(f => f.endsWith(".md"));

  files.forEach(file => {
    const filePath = path.join(contentDir, file);
    const text = fs.readFileSync(filePath, "utf-8");

    console.log(`\nüîç Pr√ºfe: ${file}`);

    // --- META
    if (!text.includes("META:")) {
      console.warn("‚ö†Ô∏è Keine META-Zeile gefunden!");
    }

    // --- Titel
    if (!text.match(/^# /m)) {
      console.warn("‚ö†Ô∏è Kein Titel (# √úberschrift) gefunden!");
    }

    // --- L√§nge
    if (text.length < 200) {
      console.warn("‚ö†Ô∏è Artikel scheint sehr kurz zu sein.");
    }

    // --- Umlaute
    const wrongUmlauts = {
      ue: "√º",
      ae: "√§",
      oe: "√∂",
      Ue: "√ú",
      Ae: "√Ñ",
      Oe: "√ñ"
    };

    for (const [wrong, right] of Object.entries(wrongUmlauts)) {
      if (text.includes(wrong)) {
        console.warn(`‚ö†Ô∏è Falsch geschrieben: "${wrong}" ‚Üí bitte ersetzen durch "${right}"`);
      }
    }
  });
}

checkArticles();
