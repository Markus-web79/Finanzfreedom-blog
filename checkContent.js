const fs = require("fs");
const path = require("path");

// Ordner mit Artikeln
const contentDir = path.join(__dirname, "content");

// W√∂rterbuch mit Korrekturen
const corrections = {
  "Ste√ºr": "Steuer",
  "ste√ºr": "steuer",
  "Vermoegen": "Verm√∂gen",
  "vermoegen": "verm√∂gen",
  "Fuehren": "F√ºhren",
  "fuehren": "f√ºhren",
  "Oekonomie": "√ñkonomie",
  "oekonomie": "√∂konomie",
  "aufba√ºn": "aufbauen"
};

// Hilfsfunktion: korrigiert Text
function fixText(text) {
  let fixed = text;
  for (const wrong in corrections) {
    const right = corrections[wrong];
    const regex = new RegExp(wrong, "g");
    fixed = fixed.replace(regex, right);
  }
  return fixed;
}

// Alle Dateien im content-Ordner laden
fs.readdirSync(contentDir).forEach((file) => {
  if (file.endsWith(".md")) {
    const filePath = path.join(contentDir, file);
    const original = fs.readFileSync(filePath, "utf8");
    const fixed = fixText(original);

    if (original !== fixed) {
      fs.writeFileSync(filePath, fixed, "utf8");
      console.log(`‚úÖ Korrigiert: ${file}`);
    } else {
      console.log(`‚ÑπÔ∏è Keine √Ñnderungen: ${file}`);
    }
  }
});

console.log("üîç Content-Check abgeschlossen.");
